{"version":3,"sources":["../../src/pages/blockedlist/blockedlist.module.ts","../../src/pages/blockedlist/blockedlist.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACA;AAUhD,IAAa,qBAAqB;IAAlC;IAAoC,CAAC;IAAD,4BAAC;AAAD,CAAC;AAAxB,qBAAqB;IARjC,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,qEAAe;SAChB;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,qEAAe,CAAC;SAC1C;KACF,CAAC;GACW,qBAAqB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;ACZQ;AAC+B;AACrB;AACM;AACrB;AAOrC,IAAa,eAAe;IAE1B,yBAAmB,OAAsB,EAAS,SAAoB,EAAS,QAAwB,EAAS,YAA0B,EAAS,OAAwB;QAAxJ,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,aAAQ,GAAR,QAAQ,CAAgB;QAAS,iBAAY,GAAZ,YAAY,CAAc;QAAS,YAAO,GAAP,OAAO,CAAiB;QAD3K,gBAAW,GAAQ,EAAE,CAAC;IAEtB,CAAC;IAED,wCAAc,GAAd;QAAA,iBAaC;QAZC,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,CAAC,eAAe,EAAE,CAAC,SAAS,CAAE,uBAAa;YAC5E,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,aAAa,CAAC,OAAO,CAAE,sBAAY;gBACjC,yCAAyC;gBACzC,KAAI,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,CAAC,SAAS,CAAE,cAAI;oBAC3E,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,YAAY,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;gBAClG,CAAC,CAAC,CAAC;YAEL,CAAC,CAAC;YACF,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QACzB,CAAC,CAAC,CAAC;IACL,CAAC;IACD,+BAAK,GAAL;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IACD,iCAAO,GAAP,UAAQ,GAAG;QACT,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,kDAAiB,EAAE,CAAC,GAAG,CAAC,WAAW,GAAC,8CAAa,EAAE,CAAC,WAAW,CAAC,GAAG,GAAC,iBAAiB,GAAC,GAAG,CAAC,CAAC,MAAM,CAAC;YAChG,OAAO,EAAE,KAAK;SACf,CAAC,CAAC;IACL,CAAC;IAEH,sBAAC;AAAD,CAAC;AA7BY,eAAe;IAJ3B,wEAAS,CAAC;QACT,QAAQ,EAAE,kBAAkB;OACG;KAChC,CAAC;oBAG2K;AA2B5K;SA7BY,eAAe,e","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BlockedlistPage } from './blockedlist';\n\n@NgModule({\n  declarations: [\n    BlockedlistPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BlockedlistPage),\n  ],\n})\nexport class BlockedlistPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/blockedlist/blockedlist.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { DataProvider } from '../../providers/data';\nimport { LoadingProvider } from '../../providers/loading';\nimport * as firebase from 'firebase';\n\n@IonicPage()\n@Component({\n  selector: 'page-blockedlist',\n  templateUrl: 'blockedlist.html',\n})\nexport class BlockedlistPage {\n  blockedList: any = [];\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, public dataProvider: DataProvider, public loading: LoadingProvider) {\n  }\n\n  ionViewDidLoad() {\n    this.dataProvider.getBlockedLists().snapshotChanges().subscribe( conversations=> {\n      let tmp = [];\n      conversations.forEach( conversation => {\n        // fetch blocked conversation & user info\n        this.dataProvider.getUser(conversation.key).snapshotChanges().subscribe( data => { \n          tmp.push({ key: conversation.key, name: data.payload.val().name, img: data.payload.val().img });\n        });\n        \n      })\n      console.log(tmp);\n      this.blockedList = tmp;\n    });\n  }\n  close(){\n    this.viewCtrl.dismiss();\n  }\n  unblock(uid){\n    console.log(uid);\n    firebase.database().ref('accounts/'+firebase.auth().currentUser.uid+'/conversations/'+uid).update({\n      blocked: false\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/blockedlist/blockedlist.ts"],"sourceRoot":""}