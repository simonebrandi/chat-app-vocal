<ion-header>
  <ion-navbar color="white">
    <ion-title *ngIf="user">{{user.name}}</ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
  <!-- User Info -->
  <div *ngIf="user">

    <div class="top">
        <img src="{{user.img}}" tappable (click)="enlargeImage(user.img)">
        <h3>{{user.name}}</h3>
        <p>@{{user.username}}</p>
        <p>{{user.description}}</p>
    </div>
    <div class="center">
      <!-- Show actions based on the status of the user in relation to the current logged in user. -->
      <div *ngIf="friendRequests && friendRequests.indexOf(user.$key) > -1">
        <p class="info">Invia una richiesta di amicizia.</p>
        <button ion-button icon-only class="danger" tappable (click)="rejectFriendRequest()"><ion-icon name="md-close"></ion-icon></button>
        <button ion-button icon-only class="success" tappable (click)="acceptFriendRequest()"><ion-icon name="md-checkmark"></ion-icon></button>
      </div>
      <div *ngIf="requestsSent && requestsSent.indexOf(user.$key) > -1">
        <p class="info">Richiesta inviata.</p>
        <button ion-button class="dark" tappable (click)="cancelFriendRequest()">Cancella richiesta di amicizia</button>
      </div>
      <div *ngIf="canAdd()">
        <p class="info">Non siete amici.</p>
        <button ion-button class="primary" tappable (click)="sendFriendRequest()">Invia richiesta di amicizia</button>
      </div>
      <div *ngIf="friends && friends.indexOf(user.$key) > -1">
        <p class="info">Siete gi√† amici.</p>
        <button ion-button class="primary" tappable (click)="sendMessage()">Invia Vocale</button>
        <button ion-button class="danger" tappable (click)="block()">Blocca utente</button>
      </div>
    </div>
  </div>
</ion-content>
